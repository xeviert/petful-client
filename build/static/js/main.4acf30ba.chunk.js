(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{24:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var o=n(0),c=(n(24),n(1)),a=n(19),s=n.n(a),i=n(8),r=n(2),d=n(21),l=n(10),j=n(11),h=n(13),u=n(12),p={API_ENDPOINT:"https://fierce-bayou-34069.herokuapp.com"},b=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={cats:[],dogs:[],people:[],nextCat:null,nextDog:null,nextPerson:null,name:"",message:""},e.timeout=0,e.timeMechanism=function(){e.timeout=setInterval((function(){if(e.state.people[0]!==e.state.name)return e.adoptRandom(),void e.addToList();"You're next!"!==e.state.message?e.state.name!==e.state.people[0]||5!==e.state.people.length||e.setMessage("You're next!"):e.setMessage(null)}),3e3)},e.addToList=function(){var t=["Xevier Tee","Louis Cid","Tara Pommy","Izzy Stankovic","Stephanie Orea","Gavin Rodriguez","Peyton Flores","Sarah MF Jackson","Ricky Gervais","Alex Kallaway","Graham Stephan"],n=t[Math.floor(Math.random()*t.length)];e.addPerson(n)},e.adoptRandom=function(){return Math.random()>=.5?e.handleAdoptCat():e.handleAdoptDog()},e.getCats=function(){fetch("".concat(p.API_ENDPOINT,"/api/cat")).then((function(e){return e.json()})).then((function(t){e.setState({cats:t,nextCat:t[0]})})).catch((function(e){console.log(e)}))},e.getDogs=function(){fetch("".concat(p.API_ENDPOINT,"/api/dog")).then((function(e){return e.json()})).then((function(t){e.setState({dogs:t,nextDog:t[0]})})).catch((function(e){console.log(e)}))},e.getPeople=function(){fetch("".concat(p.API_ENDPOINT,"/api/people")).then((function(e){return e.json()})).then((function(t){e.setState({people:t})})).catch((function(e){console.log(e)}))},e.addPerson=function(t){fetch("".concat(p.API_ENDPOINT,"/api/people"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:t})}).then((function(e){return e.json()})).then((function(){e.setState({people:[].concat(Object(d.a)(e.state.people),[t])})}))},e.getNextCat=function(){var t=e.state.nextCat;return t?Object(o.jsxs)("div",{className:"pet-container",children:[Object(o.jsx)("h3",{children:t.name}),Object(o.jsx)("img",{src:t.imageURL,alt:"cat for adoption",className:"pet-pic"}),Object(o.jsxs)("li",{children:["gender: ",t.gender," "]}),Object(o.jsxs)("li",{children:["age: ",t.age," "]}),Object(o.jsxs)("li",{children:["breed: ",t.breed," "]}),Object(o.jsxs)("li",{children:["story: ",t.story," "]})]}):Object(o.jsx)("div",{children:"No more cats left to adopt!"})},e.getNextDog=function(){var t=e.state.nextDog;return t?Object(o.jsxs)("div",{className:"pet-container",children:[Object(o.jsx)("h3",{children:t.name}),Object(o.jsx)("img",{src:t.imageURL,alt:"dog for adoption",className:"pet-pic"}),Object(o.jsxs)("li",{children:["gender: ",t.gender," "]}),Object(o.jsxs)("li",{children:["age: ",t.age," "]}),Object(o.jsxs)("li",{children:["breed: ",t.breed," "]}),Object(o.jsxs)("li",{children:["story: ",t.story," "]})]}):Object(o.jsx)("div",{children:"No more dogs left to adopt!"})},e.deleteCat=function(){fetch("".concat(p.API_ENDPOINT,"/api/cat"),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({cats:e.state.cats.slice(1)})})).catch((function(e){throw new Error("cat not adopted")}))},e.deleteDog=function(){fetch("".concat(p.API_ENDPOINT,"/api/dog"),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({dogs:e.state.dogs.slice(1)})})).catch((function(e){throw new Error("dog not adopted")}))},e.deletePerson=function(){fetch("".concat(p.API_ENDPOINT,"/api/people"),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({people:e.state.people.slice(1)})})).catch((function(e){throw new Error("person not deleted")}))},e.setName=function(t){return e.setState({name:t})},e.setNextCat=function(t){return e.setState({nextCat:t})},e.setNextDog=function(t){return e.setState({nextDog:t})},e.setMessage=function(t){return e.setState({message:t})},e.handleSubmit=function(t){t.preventDefault();var n=t.target.name.value;e.setName(n),e.addPerson(n)},e.handleAdoptCat=function(){e.deleteCat(),e.deletePerson(),e.setNextCat(e.state.cats[1])},e.handleAdoptDog=function(){e.deleteDog(),e.deletePerson(),e.setNextDog(e.state.dogs[1])},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.getCats(),this.getDogs(),this.getPeople(),this.timeMechanism(),this.addToList()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timeout)}},{key:"render",value:function(){var e=this,t=this.state,n=t.people,c=t.message,a=t.name;return Object(o.jsxs)("div",{children:[Object(o.jsxs)("header",{id:"page-header",className:"links",children:[Object(o.jsx)("div",{children:"Petful"}),Object(o.jsx)(i.b,{to:"/",children:Object(o.jsx)("img",{id:"dog-header-logo",alt:"header dog logo",src:"/dog-logo-home.png"})})]}),Object(o.jsxs)("div",{id:"petContainer",children:[Object(o.jsxs)("div",{children:[this.getNextCat(),n[0]===a&&Object(o.jsx)("button",{id:"adoptCat",onClick:this.handleAdoptCat,children:"Adopt Me!"})]}),Object(o.jsxs)("div",{children:[this.getNextDog(),n[0]===a&&Object(o.jsx)("button",{id:"adoptDog",onClick:this.handleAdoptDog,children:"Adopt Me!"})]})]}),Object(o.jsx)("br",{}),Object(o.jsxs)("div",{children:[" ",c," "]}),Object(o.jsxs)("div",{className:"info",children:[Object(o.jsx)("div",{id:"name-form",children:Object(o.jsxs)("form",{onSubmit:function(t){e.handleSubmit(t)},children:[Object(o.jsx)("label",{children:"Get added to the queue:"}),Object(o.jsx)("br",{}),Object(o.jsx)("input",{type:"text",name:"name",required:!0}),Object(o.jsx)("button",{type:"submit",id:"name-btn",children:"Add"})]})}),Object(o.jsx)("br",{}),Object(o.jsx)("div",{}),Object(o.jsx)("br",{}),Object(o.jsxs)("div",{id:"adoption-list",children:[Object(o.jsx)("b",{className:"center-list",children:"Adoption Line:"}),Object(o.jsx)("br",{}),0===n.length&&Object(o.jsx)("p",{children:"No one in line."}),n.map((function(e,t){return Object(o.jsx)("p",{person:e,className:"center-list",children:Object(o.jsxs)("li",{children:[" ",e+" "," "]})},t)}))]})]})]})}}]),n}(c.Component),g=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(o.jsxs)("div",{children:[Object(o.jsxs)("header",{id:"page-header",children:[Object(o.jsx)("div",{children:"Petful"}),Object(o.jsx)("img",{id:"dog-header-logo",src:"/dog-logo.png",alt:"header dog logo"})]}),Object(o.jsx)("img",{id:"dogs-cats",src:"/dogs-cats.jpg",alt:"multiple dogs and cats"}),Object(o.jsxs)("section",{children:["You can view pets get adopted in real time. ",Object(o.jsx)("br",{}),"Click the button below to get started.",Object(o.jsx)("br",{}),"Once you feel you are ready to adopt enter your name to get added to the wait list. ",Object(o.jsx)("br",{}),"Once you're next to adopt you will have ten seconds to decide which pet to adopt. ",Object(o.jsx)("br",{}),"Thank you for saving a life!"]}),Object(o.jsx)("div",{id:"btn-section",children:Object(o.jsx)(i.b,{to:"/adopt",children:Object(o.jsx)("button",{id:"btn-to-adopt-page",children:"Adopt Today!"})})})]})}}]),n}(c.Component);var x=function(){return Object(o.jsx)(i.a,{children:Object(o.jsxs)(r.c,{children:[Object(o.jsx)(r.a,{path:"/adopt",component:b}),Object(o.jsx)(r.a,{path:"/",component:g})]})})};s.a.render(Object(o.jsx)(x,{}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.4acf30ba.chunk.js.map